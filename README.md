# Screenshot Translator 📸🌐

スクリーンショットを撮影し、画像内のテキストを自動的に日本語に翻訳するWindowsアプリケーションです。

---

## 主な機能

| 機能 | 説明 |
|------|------|
| **スクリーンショット撮影** | 画面の任意の範囲を選択してキャプチャ |
| **OCR（文字認識）** | EasyOCRを使用して画像内のテキストを高精度で抽出 |
| **AI翻訳** | Google Gemini APIによる高品質な日本語翻訳 |
| **自動保存** | スクリーンショットと翻訳結果を自動保存 |
| **クリップボード連携** | 翻訳結果を自動的にクリップボードにコピー |
| **翻訳ログ** | 全ての翻訳履歴をタイムスタンプ付きでテキストファイルに記録 |
| **自動表示** | 翻訳完了後、ログファイルをメモ帳で自動表示 |

---

## システム要件

- **OS**: Windows 10/11（64bit）
- **インターネット接続**: 初回起動時とAPI翻訳時に必要
- **空きディスク容量**: 約2GB（OCRモデルファイル含む）
- **メモリ**: 4GB以上推奨

---

## セットアップ手順

### ステップ 1: ファイルの配置

ダウンロードしたZIPファイルを任意のフォルダに展開してください。

```
ScreenshotTranslator/
├── ScreenshotTranslator.exe  ← メインプログラム
├── .env.template              ← 設定ファイルのテンプレート
└── その他の必要なファイル
```

### ステップ 2: Google Gemini APIキーの取得

1. [Google AI Studio](https://makersuite.google.com/app/apikey) にアクセス
2. Googleアカウントでログイン
3. **「Create API Key」** をクリック
4. 生成されたAPIキーをコピー

> [!TIP]
> APIキーは無料で取得でき、一定の使用量まで無料で利用できます。

### ステップ 3: APIキーの設定

1. `.env.template` ファイルを **`.env`** にリネーム
2. `.env` ファイルをメモ帳などで開く
3. `your_api_key_here` を取得したAPIキーに置き換える

**設定例:**
```env
GEMINI_API_KEY=AIzaSyABC123def456GHI789jkl012MNO345pqr
```

4. ファイルを保存して閉じる

> [!IMPORTANT]
> `.env` ファイルは `ScreenshotTranslator.exe` と同じフォルダに配置してください。

---

## 使い方

### 起動方法

`ScreenshotTranslator.exe` をダブルクリックして起動します。

> [!NOTE]
> **初回起動時の注意**
> - EasyOCRのモデルファイル（約100MB）が自動的にダウンロードされます
> - インターネット接続が必要です
> - ダウンロードには数分かかる場合があります（環境により異なります）

### 翻訳の実行手順

1. **アプリケーションを起動**  
   小さなウィンドウが画面に表示されます（常に最前面に表示）

2. **キャプチャを開始**  
   **「Capture & Translate」** ボタンをクリック

3. **範囲を選択**  
   マウスをドラッグして翻訳したいテキストが含まれる範囲を選択  
   （Escキーでキャンセル可能）

4. **自動処理**  
   以下の処理が自動的に実行されます:
   - OCRによるテキスト抽出
   - AI翻訳
   - スクリーンショットの保存
   - 翻訳結果のクリップボードへのコピー
   - 翻訳ログファイルへの記録
   - ログファイルの自動表示（メモ帳）

5. **完了**  
   翻訳完了ダイアログが表示され、ログファイルがメモ帳で開きます

### 保存されるファイル

すべてのファイルは `captured_images` フォルダに保存されます:

| ファイル名 | 内容 |
|-----------|------|
| `screenshot_YYYYMMDD_HHMMSS.png` | キャプチャした元の画像 |
| `translation_log.txt` | 全ての翻訳履歴（タイムスタンプ付き） |

**translation_log.txt の形式:**
```
================================================================================
[2025-12-01 09:20:39]
Original: Hello World
Translation: こんにちは世界
================================================================================
```

### 出力フォルダを開く

**「Open Output Folder」** ボタンをクリックすると、保存先フォルダが開きます。

---

## トラブルシューティング

### アプリケーションが起動しない

**原因:** ウイルス対策ソフトがブロックしている可能性があります

**解決策:**
- ウイルス対策ソフトのホワイトリストに `ScreenshotTranslator.exe` を追加
- Windows Defenderの場合: 設定 > 更新とセキュリティ > Windowsセキュリティ > ウイルスと脅威の防止 > 除外

### 翻訳が動作しない

**確認事項:**
1. `.env` ファイルが実行ファイルと同じフォルダにあるか
2. APIキーが正しく設定されているか（余分なスペースがないか）
3. インターネット接続が有効か
4. Google Gemini APIの使用制限に達していないか

### OCRが動作しない / テキストが抽出されない

**解決策:**
1. 初回起動時のモデルダウンロードが完了しているか確認
2. インターネット接続を確認
3. アプリケーションを再起動
4. 画像の品質を確認（ぼやけていないか、文字が小さすぎないか）

### ログファイルが自動で開かない

**解決策:**
- `.txt` ファイルの既定のアプリがメモ帳に設定されているか確認
- 手動で `captured_images/translation_log.txt` を開いて内容を確認

### エラーメッセージが表示される

エラーメッセージの内容をスクリーンショットまたはテキストでメモして、開発者に報告してください。

---

## ライセンス

このソフトウェアは **個人利用・商用利用ともに自由に使用できます**。

### 使用しているオープンソースライブラリ

| ライブラリ | ライセンス | 用途 |
|-----------|-----------|------|
| [EasyOCR](https://github.com/JaidedAI/EasyOCR) | Apache License 2.0 | 文字認識 |
| [Google Generative AI](https://ai.google.dev/) | Google利用規約 | AI翻訳 |
| [Pillow](https://python-pillow.org/) | HPND License | 画像処理 |
| [PyInstaller](https://pyinstaller.org/) | GPL License | 実行ファイル化 |

---

## 注意事項

> [!WARNING]
> - **Google Gemini APIには使用制限があります**  
>   詳細は [公式ドキュメント](https://ai.google.dev/pricing) を参照してください
> - 大量の翻訳を行う場合は、API使用量にご注意ください

> [!NOTE]
> - OCRの精度は画像の品質（解像度、明るさ、コントラスト）に依存します
> - 翻訳の品質はAIモデルに依存します
> - 手書き文字や特殊なフォントは認識精度が低下する場合があります

---

## お問い合わせ・サポート

- **バグ報告**: GitHubのIssuesページまでお願いします
- **機能要望**: GitHubのIssuesページで提案してください
- **質問**: GitHubのDiscussionsをご利用ください

---

**Enjoy translating!**
